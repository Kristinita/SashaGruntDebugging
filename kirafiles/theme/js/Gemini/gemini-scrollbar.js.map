{
  "version": 3,
  "file": "gemini-scrollbar.js",
  "sourceRoot": "../../coffee/Gemini/",
  "sources": [
    "gemini-scrollbar.coffee"
  ],
  "names": [],
  "mappings": "AAKG;;;;;;;;;;;;;;;AAAA,IAAA,SAAA,EAAA,wBAAA;;;;;;;;;;;;;AAcH,SAAA,GAAY,CAAA;;AAGZ,SAAS,CAAC,UAAV,GAAuB,QAAA,CAAA,CAAA;EACtB,SAAS,CAAC,SAAV,GAAsB,IAAI,eAAJ,CAErB;IAAA,QAAA,EAAU,IAAV;;;;;;IAOA,cAAA,EAAgB,KAPhB;;;;;IAaA,OAAA,EAAS,QAAQ,CAAC,aAAT,CAAuB,MAAvB,CAbT;;;;;;;;;;;;;;;;;;;;IAkCA,WAAA,EAAa;EAlCb,CAFqB,CAoCH,CAAC,MApCE,CAAA;EAsCtB,SAAS,CAAC,gBAAV,GAA6B,SAAS,CAAC,SAAS,CAAC,cAApB,CAAA;SAC7B,SAAS,CAAC,YAAV,CAAA;AAxCsB,EAjBpB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuGH,SAAS,CAAC,uBAAV,GAAoC,QAAA,CAAA,CAAA;EACnC,SAAS,CAAC,SAAS,CAAC,MAApB,CAAA;EACA,SAAS,CAAC,YAAV,CAAA;AAFmC;;AAKpC,SAAS,CAAC,YAAV,GAAyB,QAAA,CAAA,CAAA,EAAA;;;;;;;;;;;;;;;;;;;;;;;;;;AAEzB,MAAA,WAAA,EAAA,QAAA,EAAA,UAAA,EAAA;EAaC,QAAA,GAAW,QAAQ,CAAC;EACpB,WAAA,GAAc,SAAA,CAAU,QAAV;EAEd,IAAG,WAAH;IAMC,UAAA,GAAa,QAAQ,CAAC,aAAT,CAAuB,WAAvB;IACb,IAAG,UAAH;MAUC,wBAAA,GAA2B;MAC3B,SAAS,CAAC,gBAAgB,CAAC,QAA3B,CAAoC,wBAApC,EAA8D,UAAU,CAAC,SAAzE,EAXD;KAPD;;AAlBwB,EA5GtB;;;;;;;;;AA6JH,MAAM,CAAC,gBAAP,CAAwB,MAAxB,EAAgC,SAAS,CAAC,UAA1C;;AACA,UAAU,CAAC,gBAAX,CAA4B,mBAA5B,EAAiD,SAAS,CAAC,uBAA3D;;AAYA,wBAAA,GAA2B,MAAA,QAAA,CAAC,mBAAD,CAAA;AAE3B,MAAA;EAAC,yBAAA,GAA4B,CAAA,MAAM,UAAA,CAAW,mBAAX,CAAN;EAE5B,IAAG,yBAAyB,CAAC,YAA1B,CAAuC,YAAvC,CAAH;;;;;;;;;;;;WAcC,OAAO,CAAC,KAAR,CAAc,8EAAd,EAdD;GAAA,MAAA;;WAoBC,yBAAyB,CAAC,YAA1B,CAAuC,YAAvC,EAAqD,mCAArD,EApBD;;AAJ0B;;AA2B3B,wBAAA,CAAyB,oBAAzB",
  "sourcesContent": [
    "###\n@Author: Kristinita\n@Date: 2017-05-02 11:44:00\n@Last Modified by: Kristinita\n@Last Modified time: 2025-03-02 13:40:29\n###\n\n####################\n# gemini-scrollbar #\n####################\n###\n[PURPOSE] Custom scrollbar instead of native body scrollbar:\nhttps://noeldelgado.github.io/gemini-scrollbar/\n\n[INFO] Usage — post of plugin author:\nhttps://github.com/noeldelgado/gemini-scrollbar/issues/46\n###\n\n# [REQUIRED] Don’t delete this line! Scrolling will be incorrect.\ninternals = {}\n\n\ninternals.initialize = ->\n\tinternals.scrollbar = new GeminiScrollbar(\n\n\t\tautoshow: true\n\n\t\t###\n\t\t[NOTE][REQUIRED] That Gemini scrollbar don’t prevent\n\t\tnative iframes lazy loading:\n\t\thttps://github.com/noeldelgado/gemini-scrollbar/issues/69\n\t\t###\n\t\tcreateElements: false\n\n\t\t###\n\t\t[INFO] “querySelector” method:\n\t\thttps://www.w3schools.com/jsref/met_document_queryselector.asp\n\t\t###\n\t\telement: document.querySelector(\"body\")\n\n\t\t###\n\t\t[NOTE][REQUIRED] Without “forceGemini” Gemini Scrollbar scrollbar isn’t showing\n\t\tin new versions of Firefox, Safari and in all modern mobile browsers:\n\t\thttps://github.com/noeldelgado/gemini-scrollbar/issues/70\n\n\t\t[INFO] Force Gemini for correct scrollbar displaying in mobile devices\n\t\thttps://github.com/noeldelgado/gemini-scrollbar#options\n\n\t\t[INFO] I use gemini-scrollbar to replace the ugly default scrollbars\n\t\tof desktop browsers. Mobile browsers haven’t ugly scrollbars\n\t\tand I don’t need gemini-scrollbar for them.\n\n\t\t[INFO] In my opinion, the site looks prettier without gemini-scrollbar\n\t\ton mobile browsers\n\n\t\t[COMPARE]\n\t\thttps://i.imgur.com/1dAPPY0.png\n\t\thttps://i.imgur.com/DCGDJg5.png\n\t\t###\n\t\tforceGemini: true).create()\n\n\tinternals.scrollingElement = internals.scrollbar.getViewElement()\n\tinternals.scrollToHash()\n\n\n\t###\n\t[DECLINED] I migrated to Defer.js\n\n\t[INFO] JQuery Lazy support:\n\thttps://github.com/eisbehr-/jquery.lazy/issues/88#issuecomment-299138103\n\n\t$('.SashaLazy').Lazy\n\t\tappendScroll: $(internals.scrollbar.getViewElement())\n\n\t\t[INFO] Run Gemini “update” method:\n\t\thttps://github.com/noeldelgado/gemini-scrollbar#basic-methods\n\t\thttp://jquery.eisbehr.de/lazy/example_callback-functions\n\t\thttps://github.com/eisbehr-/jquery.lazy/issues/88#issuecomment-299196388\n\n\t\tafterLoad: ->\n\t\t\tinternals.scrollbar.update()\n\t\t\treturn\n\t###\n\n\n\t###\n\t[DEPRECATED] Wildfire no longer functioning more\n\n\t[INFO] Wildfire comments lazy loading:\n\thttps://stackoverflow.com/a/63869810/5951529\n\t[LEARN][JQUERY_LAZY] Create custom loader:\n\thttps://github.com/dkern/jquery.lazy#custom-content-loaders\n\n\t$('.wildfire_thread').Lazy\n\t\tKiraComments: (element, response) ->\n\t\t\t$.getScript 'https://cdn.jsdelivr.net/npm/wildfire/dist/wildfire.auto.js', ->\n\t\t\t\tresponse true\n\t\t\t\treturn\n\t\t\treturn\n\t\t# [FIXME] Duplicate code\n\t\tappendScroll: $(internals.scrollbar.getViewElement())\n\t\tafterLoad: ->\n\t\t\tinternals.scrollbar.update()\n\t\t\treturn\n\treturn\n\t###\n\n\ninternals.handleOrientationChange = ->\n\tinternals.scrollbar.update()\n\tinternals.scrollToHash()\n\treturn\n\ninternals.scrollToHash = ->\n\n\t###\n\t[INFO] Get hash — part of URL after “#” symbol:\n\thttps://javascript.ru/window-location\n\n\t[INFO] Decode URL hash, example:\n\t“#%D0%9A%D0%B8%D1%80%D0%B0” → “#Кира”\n\thttps://www.w3schools.com/jsref/jsref_decodeuri.asp\n\n\t[NOTE][COMPATIBILITY] Decoding required for some browsers as Chrome and Opera;\n\twithout decoding links with anchors will not open;\n\tscrollbar will move to top of page:\n\thttps://stackoverflow.com/a/48218282/5951529\n\t###\n\tkiraHash = location.hash\n\tkiraDechash = decodeURI(kiraHash)\n\n\tif kiraDechash\n\n\t\t###\n\t\t[INFO] Replacing to id, example:\n\t\t“#Кира” → “<a id=\"Кира\">”\n\t\t###\n\t\tkiraHeader = document.querySelector(kiraDechash)\n\t\tif kiraHeader\n\n\t\t\t### eslint-disable no-magic-numbers --\n\n\t\t\t[INFO] Scroll to specific id\n\n\t\t\t[LEARN][JAVASCRIPT] “scrollTo()” method:\n\t\t\thttps://developer.mozilla.org/en-US/docs/Web/API/Element/scrollTo\n\n\t\t\t###\n\t\t\tkiraScrollingXCoordinate = 0\n\t\t\tinternals.scrollingElement.scrollTo kiraScrollingXCoordinate, kiraHeader.offsetTop\n\n\t\t\t### eslint-enable no-magic-numbers ###\n\n\t###\n\t[REQUIRED] “return” here.\n\tESLint “consistent-return” rule:\n\thttps://eslint.org/docs/latest/rules/consistent-return\n\t###\n\treturn\n\n\n# [INFO] Listeners\nwindow.addEventListener \"load\", internals.initialize\nglobalThis.addEventListener \"orientationchange\", internals.handleOrientationChange\n\n\n###\n[PATCH] Add missing “aria-label” attribute to Gemini Scrollbar object:\nhttps://github.com/noeldelgado/gemini-scrollbar/pull/67#issuecomment-1853502637\n\nIt’s required for Lighthouse testing:\n“Add alternative text to all embedded “<object>” elements using either\n“aria-label”, “aria-labelledby”, or “title” attributes.”\nhttps://dequeuniversity.com/rules/axe/4.8/object-alt\n###\nkiraAddAriaLabelToObject = (kiraNoLabeledObject) ->\n\n\tkiraObjectNoLabeledObject = await waitForElm(kiraNoLabeledObject)\n\n\tif kiraObjectNoLabeledObject.hasAttribute(\"aria-label\")\n\n\t\t### eslint-disable no-console --\n\n\t\t[NOTE] Plugin doesn’t support ESLint 9, so I temporary disable lines\n\t\t“eslint-disable xss/no-mixed-html” and “eslint-disable xss/no-mixed-html”\n\t\t[FIXME] Restore “eslint-disable xss/no-mixed-html” and “eslint-disable xss/no-mixed-html”\n\t\tif the development of the xss plugin will continue, or delete this comment\n\t\tif the plugin will not longer developed.\n\n\t\t[INFO] I think it is acceptable to leave “console.error” in the console in this case\n\t\tso that the error can be tracked when the developers fix the problem\n\t\t###\n\n\t\tconsole.error \"“aria-label” attribute already exists for gemini-scrollbar <object> element!\"\n\n\t\t### eslint-enable no-console ###\n\n\telse\n\n\t\tkiraObjectNoLabeledObject.setAttribute \"aria-label\", \"Resize trigger of Gemini scollbar\"\n\n\nkiraAddAriaLabelToObject \".gm-resize-trigger\"\n"
  ]
}